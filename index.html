<!DOCTYPE html>
<html>
  <head>
    <title>hello React</title>
    <meta charset="utf-8">
  </head>
  <body>
    <div id="app">
      <!-- my app renders here -->
    </div>
    <script src="react/build/react.js"></script>
    <script>
        // my app's code
        var TextAreaCounter = React.createClass({
            propTypes: {
                defaultValue: React.PropTypes.string
            },
            _log: function(methodName, args) {
                console.log(methodName, args);
            },
            componentWillUpdate: function() {this._log('componentWillUpdate', arguments);},
            componentDidUpdate: function() {this._log('componentDidUpdate', arguments);},
            componentWillMount: function() {this._log('componentWillMount', arguments);},
            componentDidMount: function() {this._log('componentDidMount', arguments);},
            componentWillUnmount: function() {this._log('componentWillUnmount', arguments);},
            // event listener
            getInitialState: function() { return {
                text: this.props.defaultValue, };
            },
            _textChange: function(ev) {
                this.setState({
                    text: ev.target.value
                });
            },
            render: function() {
              return React.DOM.div(null,
                  React.DOM.textarea({
                      value: this.state.text,
                      onChange: this._textChange
                  }),
                  React.DOM.h3(null, this.state.text.length)
              );
            }
        });
        React.render(
            React.createElement(TextAreaCounter, {
              defaultValue: "xeLL"
            }),
            document.getElementById("app")
        );

    </script>
  </body>
</html>
